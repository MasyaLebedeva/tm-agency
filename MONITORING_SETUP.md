# Настройка мониторинга сайта и уведомлений

## Проблема
Vercel по умолчанию отправляет уведомления только о деплоях, но не о проблемах с доступностью сайта.

## Решения

### 1. Настройка уведомлений в Vercel

1. Перейдите в панель Vercel: https://vercel.com/dashboard
2. Выберите проект `tm-agency`
3. Перейдите в **Settings** → **Notifications**
4. Включите уведомления для:
   - ✅ Deployment Failures (ошибки деплоя)
   - ✅ Deployment Errors (ошибки при деплое)
   - ✅ Function Errors (ошибки функций)
   - ✅ Build Failures (ошибки сборки)

**Важно:** Эти уведомления работают только для проблем с деплоем, не для недоступности уже работающего сайта.

### 2. Внешний мониторинг (РЕКОМЕНДУЕТСЯ)

Используйте бесплатные сервисы для мониторинга доступности:

#### Вариант A: UptimeRobot (Бесплатно)
- **Сайт:** https://uptimerobot.com
- **Бесплатный план:** до 50 мониторов, проверка каждые 5 минут
- **Настройка:**
  1. Зарегистрируйтесь на сайте
  2. Добавьте новый монитор:
     - Тип: HTTP(s)
     - URL: `https://tmads.ru`
     - Интервал: 5 минут
  3. Добавьте уведомления:
     - Email: ваш email
     - Telegram (опционально): через бота

#### Вариант B: Better Uptime (Бесплатно)
- **Сайт:** https://betteruptime.com
- **Бесплатный план:** 1 монитор, проверка каждые 1 минуту
- Настройка аналогична UptimeRobot

#### Вариант C: Проверятор (Российский сервис)
- **Сайт:** https://proverator.ru
- **Бесплатный план:** проверка каждые 5 минут
- Поддержка уведомлений в Telegram

### 3. Настройка уведомлений в Telegram

Для оперативных уведомлений создайте Telegram бота:

1. Найдите @BotFather в Telegram
2. Создайте нового бота командой `/newbot`
3. Получите токен бота
4. Добавьте ID вашего Telegram в настройках мониторинга

### 4. Endpoint для мониторинга

На сайте создан endpoint для проверки здоровья:
```
GET https://tmads.ru/api/health-check
```

Этот endpoint можно использовать в сервисах мониторинга вместо главной страницы.

## Рекомендации

1. **Настройте хотя бы один внешний сервис мониторинга** (UptimeRobot или Проверятор)
2. **Добавьте уведомления в Telegram** для оперативного реагирования
3. **Проверьте спам-фильтр** в email, чтобы уведомления не терялись

## Проверка работы

После настройки:
1. Временно остановите сайт (или измените URL в мониторе на несуществующий)
2. Проверьте, пришло ли уведомление
3. Восстановите правильный URL

---

**Примечание:** Vercel сам отправляет уведомления о деплоях, но для мониторинга доступности сайта нужны внешние сервисы.

